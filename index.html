<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>🎂 生日快乐 🎂</title>
<meta name="viewport" content="width=500, target-densitydpi=device-dpi, user-scalable=0">
<meta name="format-detection" content="telephone=no, email=no">
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="screen-orientation" content="portrait">
<meta name="x5-orientation" content="portrait">
<meta name="full-screen" content="yes">
<meta name="x5-fullscreen" content="true">
<meta name="browsermode" content="application">
<meta name="x5-page-mode" content="app">
<link type="text/css" rel="stylesheet" href="http://p44.top/wjmb/srkl2/static/css/common.css">
<link type="text/css" rel="stylesheet" href="http://p44.top/wjmb/srkl2/static/css/2.css">
<script>
    var shouci=true;
    console.log(shouci);
        function bodyPlayMusic(){
            console.log("MusicDom:",audio_music);
                shouci=false;
                audio_music.play();
                console.log(shouci);
        };
</script>
<script src="http://p44.top/sjtj/p44.js"></script>
</head>
<body onload="bodyPlayMusic()">
    <div id="div_container" data_is_required_censer_text="n" onclick="bodyPlayMusic()">
        <div id="div_scroll"> 
            <div id="div_title_outer">
<!--2页标题--> <div id="div_title" data_view_status_last="init" data_int_ratio_last="init" data_pos_y_last="init" data_anime_mode="two_way" data_anime_name="title" data_is_show="n">生日快乐！天天开心！</div>
                <img class="img_label" id="img_label_flag0" src="http://p44.top/wjmb/srkl2/static/picture/flag1.png">
                <img class="img_label" id="img_label_flag1" src="http://p44.top/wjmb/srkl2/static/picture/flag2.png">
                <img class="img_label" id="img_label_title0" src="http://p44.top/wjmb/srkl2/static/picture/birthday.png">
            </div>
            <div class="div_content_scroll" id="div_content_0" data_view_status_last="init" data_int_ratio_last="init" data_pos_y_last="init" data_anime_mode="two_way" data_anime_name="scroll_0" data_img_index="0">
                    <div class="div_img_hidden">
                        <img>
                    </div>
                    <div class="div_text_hidden"></div>
                    <div class="div_img_scroll">
                     <img data_url="http://p44.top/wjmb/srkl2/static/image/863d7659c0887789872a8393746581be.jpg">
                    </div>
<!--2页文案上-->      <div class="div_text_scroll">快来点燃生日的蜡烛，许下今年的愿望吧！</div>
                </div>
                                 <div class="div_content_scroll" id="div_content_1" data_view_status_last="init" data_int_ratio_last="init" data_pos_y_last="init" data_anime_mode="two_way" data_anime_name="scroll_0" data_img_index="1">
                    <div class="div_img_hidden">
                        <img>
                    </div>
                    <div class="div_text_hidden"></div>
                    <div class="div_img_scroll">
                        <img data_url="http://p44.top/wjmb/srkl2/static/image/3b2c8c19b768315c33b28cb67af3f88e.jpg">
                    </div>
<!--2页文案下-->    <div class="div_text_scroll">吹灭蜡烛，生日快乐！</div>
                </div>
            <div id="div_bling_outer">
                <div id="div_bling_inner">
                    <img class="img_label img_bling_left img_bling_left2" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_left img_bling_left2" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_left img_bling_left2" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_left img_bling_left3" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_left img_bling_left3" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_left img_bling_left3" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_left img_bling_left3" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_right img_bling_right2" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_right img_bling_right2" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_right img_bling_right2" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_right img_bling_right2" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_right img_bling_right3" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_right img_bling_right3" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                    <img class="img_label img_bling_right img_bling_right3" src="http://p44.top/wjmb/srkl2/static/picture/bling.png">
                </div>
            </div>
            <div id="div_balloon_outer">
                <div id="div_balloon_inner">
                    <img class="img_label img_balloon" src="http://p44.top/wjmb/srkl2/static/picture/balloon1.png">
                    <img class="img_label img_balloon" src="http://p44.top/wjmb/srkl2/static/picture/balloon2.png">
                    <img class="img_label img_balloon" src="http://p44.top/wjmb/srkl2/static/picture/balloon3.png">
                    <img class="img_label img_balloon" src="http://p44.top/wjmb/srkl2/static/picture/balloon4.png">
                </div>
            </div>
            <img class="img_label" id="img_cake" src="http://p44.top/wjmb/srkl2/static/picture/cake.png">
                    </div> 
        <div id="div_eraser_img">
                <div id="div_content_ei">
                    <div id="div_img_ei">
                            <img data_url="http://p44.top/wjmb/srkl2/static/image/6b659336ea331433fc8badac25b77c30.jpg">
                      </div>                   
<!--1页文案-->        <div id="div_text_ei">🎂 今天是一个值得纪念的特别日子，同时也是我们相遇的第244天。感谢你出现在我的生命里，带给我无尽的快乐和幸福。💖

愿你在新的一岁里，所有的梦想都能实现，所有的美好都如期而至。而我不单想要陪你度过这一次生日，更要你的每一个生日都想参与其中，给你祝福，甚至在未来的每一天里我都会一直陪在你身边，和你一起走过每一个春夏秋冬。💖

爱你，不止今天，而是每一天。💖

生日快乐，我的宝贝！</div>
                    <div id="div_btn_ei" onclick="go_next_ei()">点击继续 ▶</div>
                </div>
                <img id="img_canvas_ei" data_url="http://p44.top/wjmb/srkl2/static/image/k3.jpg">
                <div id="div_tips_ei">宝贝，生日快乐！送你1张幸运刮刮乐，快来刮开吧。</div>
                <img id="img_finger_ei" src="http://p44.top/wjmb/srkl2/static/picture/finger.png">
            </div>
                    </div>
                    <div id="div_btn_music" onclick="switch_music()" data_is_wechat="n">
                        <img src='http://p44.top/wjmb/srkl2/static/picture/cbbdcbec724146ec9e0b8702a8b37993~noop.image'> 
<!--2页音乐-->          <audio id="audio_music" loop="loop" autoplay="autoplay" data_theme_audio="https://sf86-cdn-tos.douyinstatic.com/obj/ies-music/7254177394104290107.mp31" data_start_audio="https://sf86-cdn-tos.douyinstatic.com/obj/ies-music/7254177394104290107.mp31" data_is_share_audio="y" data_start="eraser_img"></audio>
                    </div>
<script src="http://p44.top/wjmb/srkl2/static/js/1.js"></script> 
<script src="http://p44.top/wjmb/srkl2/static/js/2.js"></script>
<script>
        var window_height=Math.max(window.innerHeight,$(window).height());
        console.log('window_height ->'+window_height);
        var document_height=Math.max(document.documentElement.clientHeight,document.body.clientHeight);
        console.log('document_height ->'+document_height);
        const int_observer=new IntersectionObserver(function(entries,iobserver){
            entries.forEach(function(entry,index){
                var target_id=entry.target.id;
                var dom_target='#'+target_id;
                var int_ratio=entry.intersectionRatio;
                var view_action='init';
                var int_ratio_last=$(dom_target).attr('data_int_ratio_last');
                if(int_ratio_last=='init'){
                    $(dom_target).attr('data_int_ratio_last',int_ratio);
                }else{
                    if(int_ratio-int_ratio_last>0){
                        view_action='comein';
                    }
                    if(int_ratio-int_ratio_last<0){
                        view_action='goout';
                    }
                    $(dom_target).attr('data_int_ratio_last',int_ratio);
                    if(int_ratio==int_ratio_last){
                        console.log('int_ratio==int_ratio_last');
                        return;
                    }
                }
                var view_direction='init';
                var pos_y=entry.boundingClientRect.y;
                var pos_y_last=$(dom_target).attr('data_pos_y_last');
                if(pos_y_last=='init'){
                    $(dom_target).attr('data_pos_y_last',pos_y);
                }else{
                    if(pos_y-pos_y_last<0){
                        view_direction='forward';
                    }
                    if(pos_y-pos_y_last>0){
                        view_direction='backward';
                    }
                    $(dom_target).attr('data_pos_y_last',pos_y);
                    if(pos_y==pos_y_last){
                        console.log('pos_y==pos_y_last');
                        return;
                    }
                }
                var view_status_last=$(dom_target).attr('data_view_status_last');
                var anime_mode=$(dom_target).attr('data_anime_mode');
                var anime_name=$(dom_target).attr('data_anime_name');
                if(int_ratio<0.2){
                    if(int_ratio<0.1){
                        anime_name='hide_'+anime_name;
                        console.log(anime_name);
                        anime_fun=animations[anime_name];
                        init_anime_out(target_id,view_direction,view_action,view_status_last,anime_mode,anime_fun);
                    }
                }
                if(int_ratio>=0.2){ 
                    anime_name='show_'+anime_name;
                    console.log(anime_name);
                    anime_fun=animations[anime_name];
                    init_anime_in(target_id,view_direction,view_action,view_status_last,anime_mode,anime_fun);
                }
            });
        },{
            threshold: [0,0.1,0.2,0.3]
        });
        function init_anime_in(target_id,view_direction,view_action,view_status_last,anime_mode,anime_fun){
            if(anime_mode=='one_way'){
                if(view_direction=='forward'){
                    if(view_action=='comein'){
                        if(view_status_last=='inside'){
                            return;
                        }
                    }
                    if(view_action=='goout'){
                        return;
                    }
                }else if(view_direction=='backward'){
                    return;
                }else{
                    if(view_direction!='init'||view_action!='init'||view_status_last!='init'){
                        return;
                    }
                }
            }
            if(anime_mode=='two_way'){
                if(view_action=='comein'){
                    if(view_status_last=='inside'){
                        return;
                    }
                }else if(view_action=='goout'){
                    return;
                }else{
                    if(view_direction!='init'||view_action!='init'||view_status_last!='init'){
                        return;
                    }
                }
            }
            console.log('★'+target_id+' anime_in★');
            anime_fun(target_id);
            $('#'+target_id).attr('data_view_status_last','inside');
        }
        function init_anime_out(target_id,view_direction,view_action,view_status_last,anime_mode,anime_fun){
            if(anime_mode=='one_way'){
                if(view_direction=='forward'){
                    if(view_action=='comein'){
                        return;
                    }
                    if(view_action=='goout'){
                        return;
                    }
                }else if(view_direction=='backward'){
                    if(view_action=='comein'){
                        return;
                    }
                    if(view_action=='goout'){
                        if(view_status_last=='outside'){
                            return;
                        }
                    }
                }else{
                    return;
                }
            }
            if(anime_mode=='two_way'){
                if(view_action=='comein'){
                    return;
                }else if(view_action=='goout'){
                    if(view_status_last=='outside'){
                        return;
                    }
                }else{
                    return;
                }
            }
            console.log('★'+target_id+' anime_out★');
            anime_fun(target_id);
            $('#'+target_id).attr('data_view_status_last','outside');
        }
        function init_theme(){
            console.log('init_theme'); 
            $('#div_btns').attr('data_templet_type','theme');
            $('#div_tips_templet span').text('主题');
            $('#div_scroll').fadeIn();
            $('#div_scroll #img_cake').fadeIn(2000);
            var imgs_length=$('.div_content_scroll').length;
            console.log('imgs_length ->'+imgs_length);
            load_img(0,imgs_length);
            int_observer.observe(document.getElementById('div_title'));
            show_bling2();
            show_bling3();
            setInterval(show_bling2,4000);
            setInterval(show_bling3,5000);
            actions_config.exe_actions('actions_on_init_theme'); 
        }
        function load_img(img_index,imgs_length){
            var img_dom='#div_content_'+img_index+' .div_img_scroll img';
            var data_url=$(img_dom).attr('data_url');
            console.time('time_load_img');
            $(img_dom)[0].onload=function(){
                if($(img_dom).attr('src')=='http://zdy.accct.top//template/gglsr/img_onerror.jpg'){
                    return;
                }
                console.log('img loaded success, img_index->'+img_index);
                console.timeEnd('time_load_img');
                $('#div_content_'+img_index+' .div_img_hidden img').attr('src',data_url);
                load_img_next(img_index,imgs_length);
                var pos_top=$(img_dom).height()+20;
                $('#div_content_'+img_index+' .div_text_scroll').css({'top': pos_top+'px'});
            }
            $(img_dom)[0].onerror=function(){
                console.log('img loaded failed, img_index->'+img_index);
                $(img_dom).attr('src','http://zdy.accct.top//template/gglsr/img_onerror.jpg'); //用特定的图片代替
                $('#div_content_'+img_index+' .div_img_hidden img').attr('src','http://zdy.accct.top//template/gglsr/img_onerror.jpg');
                load_img_next(img_index,imgs_length);
                var pos_top=$(img_dom).height()+20;
                $('#div_content_'+img_index+' .div_text_scroll').css({'top': pos_top+'px'});
            }
            $(img_dom).attr('src',data_url);
            int_observer.observe(document.getElementById('div_content_'+img_index));
        }
        function load_img_next(img_index,imgs_length){
            img_index=img_index+1;
            if(img_index<imgs_length){
                load_img(img_index,imgs_length);
            }else{
                load_qiniu_player();
                actions_config.exe_actions('actions_on_loaded_imgs');
            }
        }
        function load_qiniu_player(){
            var is_show_video='n';
            if(is_show_video=='y'){
                $.getScript('qiniu-web-player-1.2.3-y.js', function(){
                    console.log('success load_qiniu_player');
                    int_observer.observe(document.getElementById('div_video_scroll'));
                });
            }
        } 
        var animations={
            index: 0,
            window_height: $(window).height(),
            show_title: function(target_id){
                anime.set('#'+target_id,{
                    skewX: 0,
                    scale: 0
                });
                anime({
                    targets: '#'+target_id,
                    skewX: 5,
                    opacity: 1,
                    scale: 1,
                    delay: 1000,
                    easing: 'spring(5, 80, 20, 0)',
                    complete: function(){
                        $('#div_title').attr('data_is_show','y');
                    }
                });
                anime.set('#img_label_flag0',{
                    translateX: -250,
                    rotate: -90,
                    opacity: 0
                });
                anime.set('#img_label_flag1',{
                    translateX: 750,
                    rotate: 90,
                    opacity: 0
                });
                anime({
                    targets: '#img_label_flag0,#img_label_flag1',
                    translateX: 0,
                    rotate: 0,
                    opacity: 1,
                    duration: 1500,
                    easing: 'easeInOutQuad'
                });
                anime.set('#img_label_title0',{
                    scale: 0,
                    opacity: 0
                });
                anime({
                    targets: '#img_label_title0',
                    scale: 1,
                    opacity: 1,
                    duration: 1500,
                    delay: 500,
                    easing: 'spring(5, 80, 10, 0)'
                });
            },
            hide_title: function(target_id){
                anime({
                    targets: '#'+target_id,
                    rotate: 0,
                    opacity: 0,
                    skewX: 0,
                    scale: 0,
                    duration: 1500,
                    easing: 'easeInOutQuad'
                });
                anime({
                    targets: '#img_label_flag0',
                    translateX: -250,
                    rotate: -90,
                    opacity: 0,
                    duration: 1500,
                    easing: 'easeInOutQuad'
                });
                anime({
                    targets: '#img_label_flag1',
                    translateX: 750,
                    rotate: 90,
                    opacity: 0,
                    duration: 1500,
                    easing: 'easeInOutQuad'
                });
                anime({
                    targets: '#img_label_title0',
                    scale: 0,
                    opacity: 0,
                    duration: 1500,
                    easing: 'easeInOutQuad'
                });
            },
            show_scroll_0: function(target_id){
                var dom_target='#'+target_id;
                var time_delay=0;
                if($('#div_title').attr('data_is_show')=='n'){
                    var img_index=parseInt($(dom_target).attr('data_img_index'));
                    time_delay=1000+1000*(img_index+1);
                }
                anime.set(dom_target+' .div_img_scroll',{
                    scale: 0,
                    opacity: 0,
                });
                anime.set(dom_target+' .div_text_scroll',{
                    scale: 0,
                    opacity: 0,
                });
                anime({
                    targets: dom_target+' .div_img_scroll',
                    scale: 1,
                    opacity: 1,
                    delay: time_delay,
                    easing: 'spring(5, 80, 20, 0)'
                });
                anime({
                    targets: dom_target+' .div_text_scroll',
                    scale: 1,
                    opacity: 1,
                    delay: time_delay+500,
                    easing: 'spring(5, 80, 20, 0)'
                });
                animations.index=animations.index+1;
                if(animations.index%3==2){
                    console.log(animations.index);
                    show_balloon();
                }
            },
            hide_scroll_0: function(target_id){
                anime({
                    targets: '#'+target_id+' .div_img_scroll',
                    scale: 0,
                    opacity: 0,
                    easing: 'spring(5, 80, 20, 0)'
                });
                anime({
                    targets: '#'+target_id+' .div_text_scroll',
                    scale: 0,
                    opacity: 0,
                    easing: 'spring(5, 80, 20, 0)'
                });
            },
            show_scroll_video: function(target_id){
                var action_callback=function(){
                    anime({
                        targets: '#div_video_scroll',
                        opacity: 1,
                        duration: 1000,
                        delay: 500,
                        easing: 'easeInOutQuad',
                        complete: function(){
                            qiniu_player.play();
                        }
                    });
                }
                var bool_append_video=$('#div_video_scroll').attr('data_bool_append');
                if(bool_append_video=='n'){
                    var video_src=static/picture/$('#div_video_scroll').attr('data_source');
                    var video_poster=$('#div_video_scroll').attr('data_poster');
                    append_video(video_src,video_poster,action_callback);
                    var video_width=$('#div_video_scroll').attr('data_width');
                    var video_height=$('#div_video_scroll').attr('data_height');
                    $('#div_video_scroll').width(video_width).height(video_height);
                }else{
                    action_callback();
                }
            },
            hide_scroll_video: function(target_id){
                anime({
                    targets: '#'+target_id,
                    opacity: 0,
                    duration: 1000,
                    easing: 'easeInOutQuad',
                    begin: function(){
                        if(qiniu_player!=''){
                            qiniu_player.pause();
                        }
                    }
                });
            },
        };
        function show_bling2(){
            anime.set('.img_bling_left2',{
                translateX: function(){return anime.random(0,60);},
                translateY: function(){return anime.random(100,900);},
                scale: function(el,i,l){return 0.7+i*0.1;},
                opacity: 0,
            });
            anime.set('.img_bling_right2',{
                translateX: function(){return anime.random(-60,0);},
                translateY: function(){return anime.random(100,900);},
                scale: function(el,i,l){return 0.7+i*0.1;},
                opacity: 0,
            });
            anime({
                targets: '.img_bling_left2,.img_bling_right2',
                opacity: 1,
                duration: 1000,
                delay: function(el,i,l){return i%2*500;},
                direction: 'alternate',
                easing: 'easeInOutQuad',
            });
        }
        function show_bling3(){
            anime.set('.img_bling_left3',{
                translateX: function(){return anime.random(0,120);},
                translateY: function(){return anime.random(20,900);},
                scale: function(el,i,l){return 0.7+i*0.1;},
                opacity: 0,
            });
            anime.set('.img_bling_right3',{
                translateX: function(){return anime.random(-120,0);},
                translateY: function(){return anime.random(20,900);},
                scale: function(el,i,l){return 0.7+i*0.1;},
                opacity: 0,
            });
            anime({
                targets: '.img_bling_left3,.img_bling_right3',
                opacity: 1,
                duration: 1500,
                delay: function(el,i,l){return i%2*500;},
                direction: 'alternate',
                easing: 'easeInOutQuad',
            });
        }
        function show_balloon(){
            anime.set('.img_balloon',{
                translateX: 420,
                translateY: 0,
            });
            anime({
                targets: '.img_balloon',
                translateX: anime.stagger(150),
                translateY: -1400,
                duration: 8000,
                delay: function(el,i,l){return i%2*500;},
                easing: 'easeInOutQuad',
            });
        }
        var qiniu_player='null';
        var audio_music=document.getElementById('audio_music');
        function append_video(video_url,video_poster,action_callback){
            console.log('append_video');
            var div_video_scroll=document.getElementById('div_video_scroll');
            qiniu_player=new QPlayer({
                url: video_url,
                container: div_video_scroll,
                autoplay: false,
                muted: false,
                poster: video_poster
            });
            if(qiniu_player.isLoop==false){
                console.log('切换为循环播放');
                qiniu_player.toggleLoop();
            }
            qiniu_player.on('ready',function(){
                console.log('qiniu_player on ready');
                action_callback();
            });
            qiniu_player.on('play',function(){
                console.log('qiniu_player on play');
                if(audio_music.paused==false){
                    if(user_agent=='iphone'){
                        $('#div_container').attr('data_status_music','playing');
                        audio_music.pause();
                    }else{
                        volume_fade_out(audio_music,0.2); //音频淡出至小音量播放
                    }
                }
            });
            qiniu_player.on('pause',function(){
                console.log('qiniu_player on pause');
                if(interval_volume=='null'){
                    audio_music.volume=1;
                }
                if($('#div_container').attr('data_status_music')=='playing'){
                    audio_music.play();
                }
            });
            qiniu_player.on('timeupdate',function(){
                // console.log('qiniu_player on timeupdate');
            });
            qiniu_player.on('ended',function(){
                console.log('qiniu_player on ended');
            });
            $('#div_video_scroll').attr('data_bool_append','y');
        }
        var user_agent='android';
        var interval_volume='null';
        function volume_fade_out(audio_sole,volume_target,callback,param){
            console.log('volume_fade_out');
            if(interval_volume!='null'){
                console.log('interval_volume已在运行中');
                return;
            }
            volume_start=audio_sole.volume;
            if(volume_start<volume_target){
                return;
            }
            volume_target=volume_target.toFixed(2);
            var volume_step=(volume_start-volume_target)/5;
            volume_step=volume_step.toFixed(2);
            interval_volume=setInterval(function(){
                var volume_now=audio_sole.volume-volume_step;
                volume_now=volume_now.toFixed(2);
                audio_sole.volume=volume_now;
                console.log(volume_now);
                if(volume_now<=volume_target){
                    clearInterval(interval_volume);
                    interval_volume='null';
                    if(callback){
                        if(param){
                            callback(param);
                        }else{
                            callback();
                        }
                    }
                }
            },200);
        }
        var actions_config={
            'exe_actions': function(actions_array){
                if(actions_config[actions_array].length>0){
                    for(var i=0; i<actions_config[actions_array].length; i++){
                        actions_config[actions_array][i]();
                    }
                }
            },
            'actions_on_init_theme': [], //主题初始化就执行
            'actions_on_loaded_imgs': [], 
        };
</script>
<script src="http://p44.top/wjmb/srkl2/static/js/3.js"></script>
<script src="http://p44.top/wjmb/srkl2/static/js/4.js"></script>
<script src="http://p44.top/wjmb/srkl2/static/js/airs.js"></script>
<body>
   <div id="btn">
       <audio id="audio-player" ref="audio" preload="preload" autoplay="autoplay" loop="loop">
<!--1页音乐--><source src="https://sf3-cdn-tos.douyinstatic.com/obj/tos-cn-ve-2774/bd689a3492734ca2b422bf173e3ad9ae" type="audio/mpeg">
              Your browser does not support the audio tag.
       </audio>
   </div>
</body>
</body>
</html>
<script>
   let isWeixin = () => {
       let ua = window.navigator.userAgent.toLowerCase()
       return;
       /micromessenger/
           .test(ua)
   }
   let audioPlayer = (id) => {
       let audio = document.getElementById(id)
       if (isWeixin()) {
           document.addEventListener(
               'WeixinJSBridgeReady'
               , () => {
                   audio.play()
               }, false);
           if (typeof window.
               WeixinJSBridge
               ==
               "object"
               && typeof window.
                   WeixinJSBridge
                   .invoke ==
               "function"
           ) {
               window.
                   WeixinJSBridge
                   .invoke(
                       'getNetworkType'
                       , {}, () => {
                           audio.play()
                       })
           }
       } else {
           let touchPlay = () => {
               audio.play();
               document.removeEventListener(
                   'touchstart'
                   , touchPlay, false)
           };
           if (audio.paused) {
               document.addEventListener(
                   'touchstart'
                   , touchPlay, false)
           }
       }
   }
   audioPlayer(
       'audio-player'
   );
   var audio = document.getElementById("audio-player");
   var btn = document.getElementById("btn");
   var rotateVal = 0;
   var InterVal;     // 定时器
   function rotate() {
       InterVal = setInterval(function () {
           rotateVal += 4;
           btn.style.transform = 'rotate(' + rotateVal + 'deg)';
           btn.style.transition = '0.1s linear'
       }, 100)
   }
   btn.onclick = function () {
       if (audio.paused) {
           audio.play();
           rotate()
       } else {
           audio.pause();
           clearInterval(InterVal)
       }
   };
</script>
